<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุธุงู ูุญุงุณุจู ูุชูุงูู</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- LOGIN -->
  <div id="login-page" class="page active">
    <div class="center-card">
      <h2>๐ ุชุณุฌูู ุงูุฏุฎูู</h2>
      <form id="loginForm" class="simple-form">
        <input id="login-username" placeholder="ุงุณู ุงููุณุชุฎุฏู" required />
        <input id="login-password" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" required />
        <div class="row">
          <button type="submit" class="btn primary">ุฏุฎูู</button>
          <button type="button" id="demo-btn" class="btn">ุชุฌุฑูุจู</button>
        </div>
      </form>
      <p class="muted"> ุงููุธุงู ุงููุญุงุณุจู </p>
    </div>
  </div>

  <!-- APP -->
  <div id="app" class="page">
    <aside class="sidebar">
      <div class="brand">ุงููุธุงู ุงููุญุงุณุจู</div>
      <nav>
        <button onclick="showView('dashboard')">๐ ููุญุฉ ุงูุชุญูู</button>
        <button onclick="showView('accounts')">๐ ุงูุฏููู ุงููุญุงุณุจู</button>
        <button onclick="showView('transactions')">๐ณ ุงููุนุงููุงุช ุงูููููุฉ</button>
        <button onclick="showView('receivables')">๐ฅ ุงูุฐูู</button>
        <button onclick="showView('assets')">๐ข ุงูุฃุตูู ุงูุซุงุจุชุฉ</button>
        <button onclick="showView('inventory')">๐ฆ ุงููุฎุฒูู</button>
        <button onclick="showView('cash')">๐ฐ ุงูุตูุฏูู</button>
        <button onclick="showView('reports')">๐ ุงูุชูุงุฑูุฑ</button>
        <button onclick="showView('settings')">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</button>
      </nav>
      <div class="sidebar-footer">
        <div id="current-user">ุงููุณุชุฎุฏู: -</div>
        <div class="row">
          <button id="logout-btn" class="btn small">ุชุณุฌูู ุฎุฑูุฌ</button>
        </div>
      </div>
    </aside>

    <main class="main">
      <!-- Dashboard -->
      <section id="dashboard" class="view active">
        <h2>ููุญุฉ ุงูุชุญูู</h2>
        <div class="cards">
          <div class="card">๐ฐ ุฑุตูุฏ ุงูุตูุฏูู: <strong id="dash-cash">0</strong></div>
          <div class="card">๐ ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช: <strong id="dash-rev">0</strong></div>
          <div class="card">๐ ุฅุฌูุงูู ุงููุตุฑููุงุช: <strong id="dash-exp">0</strong></div>
          <div class="card">๐ฆ ุงููุฎุฒูู (ุนุฏุฏ ุฃุตูุงู): <strong id="dash-inv">0</strong></div>
        </div>
        <p class="muted">ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ูููุตูู ุฅูู ูู ูุณู.</p>
      </section>

      <!-- Accounts -->
      <section id="accounts" class="view">
        <h2>๐ ุงูุฏููู ุงููุญุงุณุจู</h2>
        <div class="panel">
          <form id="accountForm" class="inline-form">
            <select id="acc-type">
              <option value="Asset">ุฃุตูู</option>
              <option value="Liability">ุฎุตูู</option>
              <option value="Equity">ุญููู ุงูููููุฉ</option>
              <option value="Revenue">ุฅูุฑุงุฏุงุช</option>
              <option value="Expense">ูุตุฑููุงุช</option>
              <option value="Closing">ุฎุชุงูู</option>
              <option value="Aux">ูุณุงุนุฏุฉ</option>
            </select>
            <input id="acc-code" placeholder="ุงูุฑูู ุงูููุฏู (ูุซุงู:1110)" required />
            <input id="acc-name" placeholder="ุงุณู ุงูุญุณุงุจ" required />
            <input id="acc-parent" placeholder="ููุฏ ุงูุญุณุงุจ ุงูุฃุจ (ุงุฎุชูุงุฑู)" />
            <button id="acc-add" class="btn">ุฅุถุงูุฉ/ุญูุธ</button>
            <button id="acc-clear" type="button" class="btn">ูุณุญ</button>
          </form>
          <div class="tools">
            <input id="acc-search" placeholder="๐ ุจุญุซ ูู ุงูุฏููู" />
            <button id="acc-export" class="btn">ุชุตุฏูุฑ CSV</button>
            <button id="acc-import-btn" class="btn">ุงุณุชูุฑุงุฏ CSV</button>
            <input id="acc-import-file" type="file" accept=".csv" style="display:none" />
          </div>
        </div>
        <div id="accountsList" class="tree"></div>
      </section>

      <!-- Transactions -->
      <section id="transactions" class="view">
        <h2>๐ณ ุงููุนุงููุงุช ุงูููููุฉ</h2>
        <div class="panel">
          <button class="btn" onclick="openTransForm()">โ ุฅุถุงูุฉ ููุฏ</button>
          <input id="trans-search" placeholder="๐ ุจุญุซ ูู ุงููููุฏ" />
          <button class="btn" onclick="exportTransactionsExcel()">ุชุตุฏูุฑ Excel</button>
          <button class="btn" onclick="printTransactions()">ุทุจุงุนุฉ</button>
        </div>
        <table id="transTable" class="table">
          <thead>
            <tr>
              <th>#ููุฏ</th><th>ุงูุชุงุฑูุฎ</th><th>ุงูุจูุงู</th><th>ูุณุชูุฏ</th>
              <th>ูุฏูู</th><th>ุฏุงุฆู</th><th>ุงููุจูุบ</th><th>ูุดุฑูุน</th><th>ููุน</th><th>ููุงุญุธุงุช</th><th>ุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Receivables -->
      <section id="receivables" class="view">
        <h2>๐ฅ ุงูุฐูู (ุนููุงุก/ููุฑุฏูู)</h2>
        <div class="panel">
          <button class="btn" onclick="openCustomerForm()">โ ุฅุถุงูุฉ ุนููู/ููุฑุฏ</button>
          <input id="cust-search" placeholder="๐ ุจุญุซ ูู ุงูุนููุงุก/ุงูููุฑุฏูู" />
        </div>
        <table id="custTable" class="table">
          <thead><tr><th>ุงูุงุณู</th><th>ููุน</th><th>ุงูุฑุตูุฏ</th><th>ุฅุฌุฑุงุกุงุช</th></tr></thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Assets -->
      <section id="assets" class="view">
        <h2>๐ข ุงูุฃุตูู ุงูุซุงุจุชุฉ</h2>
        <div class="panel">
          <button class="btn" onclick="openAssetForm()">โ ุฅุถุงูุฉ ุฃุตู</button>
          <input id="asset-search" placeholder="๐ ุจุญุซ ูู ุงูุฃุตูู" />
        </div>
        <table id="assetTable" class="table">
          <thead><tr><th>ููุฏ</th><th>ุงูุงุณู</th><th>ุชูููุฉ</th><th>ุจุฏุงูุฉ</th><th>ุนูุฑ ุณููู</th><th>ูููุฉ ุฏูุชุฑูุฉ</th><th>ุฅุฌุฑุงุกุงุช</th></tr></thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Inventory -->
      <section id="inventory" class="view">
        <h2>๐ฆ ุงููุฎุฒูู</h2>
        <div class="panel">
          <button class="btn" onclick="openItemForm()">โ ุฅุถุงูุฉ ุตูู</button>
          <input id="item-search" placeholder="๐ ุจุญุซ ูู ุงูุฃุตูุงู" />
        </div>
        <table id="itemTable" class="table">
          <thead><tr><th>ููุฏ</th><th>ุงุณู ุงูุตูู</th><th>ุงููููุฉ</th><th>ุชูููุฉ ุงููุญุฏุฉ</th><th>ูููุฉ ุงููุฎุฒูู</th><th>ุฅุฌุฑุงุกุงุช</th></tr></thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Cash -->
      <section id="cash" class="view">
        <h2>๐ฐ ุงูุตูุฏูู</h2>
        <div class="panel">
          <button class="btn" onclick="openCashAdjust('in')">โฌ๏ธ ุฅุถุงูุฉ ููุฏ</button>
          <button class="btn" onclick="openCashAdjust('out')">โฌ๏ธ ุณุญุจ ููุฏ</button>
        </div>
        <div class="panel">
          <p>ุงูุฑุตูุฏ ุงูุญุงูู ููุตูุฏูู: <strong id="cash-balance">0</strong> </p>
        </div>
      </section>

      <!-- Reports -->
      <section id="reports" class="view">
        <h2>๐ ุงูุชูุงุฑูุฑ ุงูููููุฉ</h2>
        <div id="reportsContent"></div>
        <button class="btn" onclick="generateTrialBalance()">ุนุฑุถ ููุฒุงู ุงููุฑุงุฌุนุฉ</button>
      </section>

      <!-- Settings -->
      <section id="settings" class="view">
        <h2>โ๏ธ ุงูุฅุนุฏุงุฏุงุช</h2>
        <label>ุงุณู ุงููุคุณุณุฉ</label>
        <input id="org-name" />
        <label>ุงูุนููุฉ ุงูุงูุชุฑุงุถูุฉ</label>
        <input id="org-currency" placeholder="ูุซุงู: YER" />
        <div class="row">
          <button id="save-org" class="btn">ุญูุธ</button>
          <button id="reset-data" class="btn danger">ูุณุญ ูู ุงูุจูุงูุงุช ุงููุญููุฉ</button>
        </div>
      </section>
    </main>
  </div>

  <!-- Modals: Transaction -->
  <div id="transModal" class="modal">
    <div class="modal-card">
      <h3 id="transTitle">ุฅุถุงูุฉ ููุฏ</h3>
      <form id="transForm" class="simple-form">
        <label>ุฑูู ุงูููุฏ</label><input id="t-entry" required />
        <label>ุชุงุฑูุฎ ุงูุนูููุฉ</label><input id="t-date" type="date" required />
        <label>ุงูุจูุงู</label><input id="t-desc" required />
        <label>ุฑูู ุงููุณุชูุฏ</label><input id="t-doc" />
        <label>ุงูุญุณุงุจ ุงููุฏูู</label><select id="t-debit" required></select>
        <label>ุงูุญุณุงุจ ุงูุฏุงุฆู</label><select id="t-credit" required></select>
        <label>ุงููุจูุบ</label><input id="t-amount" type="number" step="0.01" required />
        <label>ุงููุดุฑูุน / ูุฑูุฒ ุงูุชูููุฉ</label><input id="t-project" />
        <label>ููุน ุงููุนุงููุฉ</label>
        <select id="t-type"><option>ุฅูุฑุงุฏุงุช</option><option>ูุตุฑููุงุช</option><option>ุจูููุฉ</option><option>ุชุณููุงุช</option><option>ุฐูู</option></select>
        <label>ุงูููุงุญุธุงุช</label><input id="t-notes" />
        <div class="row">
          <button type="button" id="t-save" class="btn primary">ุญูุธ</button>
          <button type="button" onclick="closeTransForm()" class="btn">ุฅูุบุงุก</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modals: Customer -->
  <div id="custModal" class="modal"><div class="modal-card">
    <h3 id="custTitle">ุนููู / ููุฑุฏ</h3>
    <form id="custForm">
      <label>ุงูุงุณู</label><input id="c-name" required />
      <label>ุงูููุน</label><select id="c-type"><option>ุนููู</option><option>ููุฑุฏ</option></select>
      <label>ุงููุงุชู (ุงุฎุชูุงุฑู)</label><input id="c-phone" />
      <div class="row"><button type="button" id="c-save" class="btn primary">ุญูุธ</button><button type="button" onclick="closeCustForm()" class="btn">ุฅูุบุงุก</button></div>
    </form>
  </div></div>

  <!-- Modals: Asset -->
  <div id="assetModal" class="modal"><div class="modal-card">
    <h3>ุฅุถุงูุฉ ุฃุตู ุซุงุจุช</h3>
    <form id="assetForm">
      <label>ููุฏ ุงูุฃุตู</label><input id="a-code" required />
      <label>ุงูุงุณู</label><input id="a-name" required />
      <label>ุงูุชูููุฉ</label><input id="a-cost" type="number" required />
      <label>ุชุงุฑูุฎ ุงูุดุฑุงุก</label><input id="a-date" type="date" />
      <label>ุนูุฑ ูููุฏ ุจุงูุณููุงุช</label><input id="a-life" type="number" />
      <div class="row"><button type="button" id="a-save" class="btn primary">ุญูุธ</button><button type="button" onclick="closeAssetForm()" class="btn">ุฅูุบุงุก</button></div>
    </form>
  </div></div>

  <!-- Modals: Item -->
  <div id="itemModal" class="modal"><div class="modal-card">
    <h3>ุฅุถุงูุฉ ุตูู ูุฎุฒูู</h3>
    <form id="itemForm">
      <label>ููุฏ ุงูุตูู</label><input id="i-code" required />
      <label>ุงุณู ุงูุตูู</label><input id="i-name" required />
      <label>ุงููููุฉ ุงูุงุจุชุฏุงุฆูุฉ</label><input id="i-qty" type="number" value="0" />
      <label>ุชูููุฉ ุงููุญุฏุฉ</label><input id="i-cost" type="number" step="0.01" value="0" />
      <div class="row"><button type="button" id="i-save" class="btn primary">ุญูุธ</button><button type="button" onclick="closeItemForm()" class="btn">ุฅูุบุงุก</button></div>
    </form>
  </div></div>

  <!-- Modals: Cash adjust -->
  <div id="cashModal" class="modal"><div class="modal-card">
    <h3 id="cashTitle">ุชุนุฏูู ุงูุตูุฏูู</h3>
    <form id="cashForm">
      <label>ุงูููุน</label><select id="cash-type"><option value="in">ุฅูุฏุงุน</option><option value="out">ุณุญุจ</option></select>
      <label>ุงููุจูุบ</label><input id="cash-amount" type="number" step="0.01" />
      <label>ุงูุจูุงู</label><input id="cash-desc" />
      <div class="row"><button type="button" id="cash-save" class="btn primary">ุญูุธ</button><button type="button" onclick="closeCashForm()" class="btn">ุฅูุบุงุก</button></div>
    </form>
  </div></div>

  <script src="script.js"></script>
</body>
</html>